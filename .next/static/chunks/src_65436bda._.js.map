{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { useEffect, useState } from 'react';\n\ninterface User {\n  email: string;\n  role: string;\n}\n\nexport function Navbar() {\n  const pathname = usePathname();\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    checkAuth();\n  }, [pathname]);\n\n  const checkAuth = async () => {\n    try {\n      const response = await fetch('/api/auth/check');\n      const data = await response.json();\n      \n      if (response.ok && data.user) {\n        setUser(data.user);\n      } else {\n        setUser(null);\n      }\n    } catch (error) {\n      console.error('Auth check error:', error);\n      setUser(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await fetch('/api/auth/logout', { method: 'POST' });\n      window.location.href = '/login';\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  const isActive = (path: string) => pathname === path;\n\n  return (\n    <nav className=\"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200\">\n      <div className=\"container mx-auto px-4\">\n        <div className=\"flex justify-between h-16\">\n          <div className=\"flex\">\n            <Link \n              href=\"/\" \n              className=\"flex items-center text-xl font-bold text-gray-900\"\n            >\n              PDF Editor\n            </Link>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            {!loading && (\n              <>\n                {user ? (\n                  <>\n                    <Link\n                      href=\"/pdf-editor\"\n                      className={`px-3 py-2 rounded-md text-sm font-medium ${\n                        isActive('/pdf-editor')\n                          ? 'bg-gray-900 text-white'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                    >\n                      Editor\n                    </Link>\n\n                    {user.role === 'admin' && (\n                      <Link\n                        href=\"/admin\"\n                        className={`px-3 py-2 rounded-md text-sm font-medium ${\n                          pathname.startsWith('/admin')\n                            ? 'bg-gray-900 text-white'\n                            : 'text-gray-700 hover:bg-gray-100'\n                        }`}\n                      >\n                        Admin\n                      </Link>\n                    )}\n\n                    <Link\n                      href=\"/subscription\"\n                      className={`px-3 py-2 rounded-md text-sm font-medium ${\n                        pathname.startsWith('/subscription')\n                          ? 'bg-gray-900 text-white'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                    >\n                      Subscription\n                    </Link>\n\n                    <button\n                      onClick={handleLogout}\n                      className=\"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100\"\n                    >\n                      Logout\n                    </button>\n                  </>\n                ) : (\n                  <>\n                    <Link\n                      href=\"/login\"\n                      className={`px-3 py-2 rounded-md text-sm font-medium ${\n                        isActive('/login')\n                          ? 'bg-gray-900 text-white'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                    >\n                      Login\n                    </Link>\n                    <Link\n                      href=\"/register\"\n                      className={`px-3 py-2 rounded-md text-sm font-medium ${\n                        isActive('/register')\n                          ? 'bg-gray-900 text-white'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                    >\n                      Register\n                    </Link>\n                  </>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAWO,SAAS;;IACd,MAAM,WAAW,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACR;QACF;2BAAG;QAAC;KAAS;IAEb,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,SAAS,EAAE,IAAI,KAAK,IAAI,EAAE;gBAC5B,QAAQ,KAAK,IAAI;YACnB,OAAO;gBACL,QAAQ;YACV;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,qBAAqB;YACnC,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,MAAM,oBAAoB;gBAAE,QAAQ;YAAO;YACjD,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,MAAM,WAAW,CAAC,OAAiB,aAAa;IAEhD,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,+JAAA,CAAA,UAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;kCAKH,6LAAC;wBAAI,WAAU;kCACZ,CAAC,yBACA;sCACG,qBACC;;kDACE,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAW,CAAC,yCAAyC,EACnD,SAAS,iBACL,2BACA,mCACJ;kDACH;;;;;;oCAIA,KAAK,IAAI,KAAK,yBACb,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAW,CAAC,yCAAyC,EACnD,SAAS,UAAU,CAAC,YAChB,2BACA,mCACJ;kDACH;;;;;;kDAKH,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAW,CAAC,yCAAyC,EACnD,SAAS,UAAU,CAAC,mBAChB,2BACA,mCACJ;kDACH;;;;;;kDAID,6LAAC;wCACC,SAAS;wCACT,WAAU;kDACX;;;;;;;6DAKH;;kDACE,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAW,CAAC,yCAAyC,EACnD,SAAS,YACL,2BACA,mCACJ;kDACH;;;;;;kDAGD,6LAAC,+JAAA,CAAA,UAAI;wCACH,MAAK;wCACL,WAAW,CAAC,yCAAyC,EACnD,SAAS,eACL,2BACA,mCACJ;kDACH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYrB;GAjIgB;;QACG,qIAAA,CAAA,cAAW;;;KADd","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/contexts/auth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { createContext, useContext, useState, useEffect } from 'react';\n\ninterface User {\n  id: string;\n  email: string;\n  role: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<void>;\n  signOut: () => Promise<void>;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    // Check for existing session\n    checkAuth();\n  }, []);\n\n  const checkAuth = async () => {\n    try {\n      const response = await fetch('/api/auth/status');\n      if (response.ok) {\n        const data = await response.json();\n        setUser(data.user);\n      }\n    } catch (error) {\n      console.error('Auth check failed:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const signIn = async (email: string, password: string) => {\n    try {\n      // For development, use hardcoded credentials\n      if (process.env.NODE_ENV === 'development') {\n        if (email === 'admin@example.com' && password === 'admin123') {\n          const mockUser = {\n            id: 'mock-user-id',\n            email: 'admin@example.com',\n            role: 'admin',\n          };\n          setUser(mockUser);\n          return;\n        }\n        throw new Error('Invalid credentials');\n      }\n\n      // In production, call your auth API\n      const response = await fetch('/api/auth/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, password }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Invalid credentials');\n      }\n\n      const data = await response.json();\n      setUser(data.user);\n    } catch (error) {\n      console.error('Sign in failed:', error);\n      throw error;\n    }\n  };\n\n  const signOut = async () => {\n    try {\n      await fetch('/api/auth/logout', { method: 'POST' });\n      setUser(null);\n    } catch (error) {\n      console.error('Sign out failed:', error);\n      throw error;\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, signIn, signOut }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n"],"names":[],"mappings":";;;;AA6CU;;AA3CV;;;AAFA;;AAiBA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,6BAA6B;YAC7B;QACF;iCAAG,EAAE;IAEL,MAAM,YAAY;QAChB,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,QAAQ,KAAK,IAAI;YACnB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;QACtC,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,SAAS,OAAO,OAAe;QACnC,IAAI;YACF,6CAA6C;YAC7C,wCAA4C;gBAC1C,IAAI,UAAU,uBAAuB,aAAa,YAAY;oBAC5D,MAAM,WAAW;wBACf,IAAI;wBACJ,OAAO;wBACP,MAAM;oBACR;oBACA,QAAQ;oBACR;gBACF;gBACA,MAAM,IAAI,MAAM;YAClB;YAEA,oCAAoC;YACpC,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAO;gBAAS;YACzC;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM;YAClB;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,KAAK,IAAI;QACnB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;YACjC,MAAM;QACR;IACF;IAEA,MAAM,UAAU;QACd,IAAI;YACF,MAAM,MAAM,oBAAoB;gBAAE,QAAQ;YAAO;YACjD,QAAQ;QACV,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oBAAoB;YAClC,MAAM;QACR;IACF;IAEA,qBACE,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAQ;QAAQ;kBAC3D;;;;;;AAGP;GAzEgB;KAAA;AA2ET,SAAS;;IACd,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}},
    {"offset": {"line": 304, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/Providers.tsx"],"sourcesContent":["\"use client\";\n\nimport { AuthProvider } from \"@/contexts/auth-context\";\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <AuthProvider>\n      {children}\n    </AuthProvider>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIO,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,sIAAA,CAAA,eAAY;kBACV;;;;;;AAGP;KANgB","debugId":null}}]
}