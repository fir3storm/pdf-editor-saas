{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAGA;AAEA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,6LAAC,8KAAA,CAAA,OAAyB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;KAJS;AAMT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBACE,6LAAC,8KAAA,CAAA,UAA4B;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AAE5E;MANS;AAQT,SAAS,kBAAkB,EACzB,GAAG,OACsD;IACzD,qBACE,6LAAC,8KAAA,CAAA,SAA2B;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAE1E;MANS;AAQT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,6LAAC,8KAAA,CAAA,UAA4B;QAC3B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,8KAAA,CAAA,UAA4B;gBAC3B,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,+WACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MAjBS;AAmBT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACyB;IAC5B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,6LAAC,8KAAA,CAAA,QAA0B;QACzB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,8KAAA,CAAA,cAAgC;QAC/B,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,8KAAA,CAAA,SAA2B;QAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,KAAK;QAC/B,GAAG,KAAK;;;;;;AAGf;MAVS;AAYT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,8KAAA,CAAA,SAA2B;QAC1B,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;YAAE,SAAS;QAAU,IAAI;QACrD,GAAG,KAAK;;;;;;AAGf;OAVS","debugId":null}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,mKAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,mKAAA,CAAA,OAAkB;QACjB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,mKAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,mKAAA,CAAA,UAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS","debugId":null}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 416, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/ui/slider.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Slider({\n  className,\n  defaultValue,\n  value,\n  min = 0,\n  max = 100,\n  ...props\n}: React.ComponentProps<typeof SliderPrimitive.Root>) {\n  const _values = React.useMemo(\n    () =>\n      Array.isArray(value)\n        ? value\n        : Array.isArray(defaultValue)\n          ? defaultValue\n          : [min, max],\n    [value, defaultValue, min, max]\n  )\n\n  return (\n    <SliderPrimitive.Root\n      data-slot=\"slider\"\n      defaultValue={defaultValue}\n      value={value}\n      min={min}\n      max={max}\n      className={cn(\n        \"relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col\",\n        className\n      )}\n      {...props}\n    >\n      <SliderPrimitive.Track\n        data-slot=\"slider-track\"\n        className={cn(\n          \"bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5\"\n        )}\n      >\n        <SliderPrimitive.Range\n          data-slot=\"slider-range\"\n          className={cn(\n            \"bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full\"\n          )}\n        />\n      </SliderPrimitive.Track>\n      {Array.from({ length: _values.length }, (_, index) => (\n        <SliderPrimitive.Thumb\n          data-slot=\"slider-thumb\"\n          key={index}\n          className=\"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50\"\n        />\n      ))}\n    </SliderPrimitive.Root>\n  )\n}\n\nexport { Slider }\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;;;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,YAAY,EACZ,KAAK,EACL,MAAM,CAAC,EACP,MAAM,GAAG,EACT,GAAG,OAC+C;;IAClD,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,UAAa,AAAD;mCAC1B,IACE,MAAM,OAAO,CAAC,SACV,QACA,MAAM,OAAO,CAAC,gBACZ,eACA;gBAAC;gBAAK;aAAI;kCAClB;QAAC;QAAO;QAAc;QAAK;KAAI;IAGjC,qBACE,6LAAC,qKAAA,CAAA,OAAoB;QACnB,aAAU;QACV,cAAc;QACd,OAAO;QACP,KAAK;QACL,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,uOACA;QAED,GAAG,KAAK;;0BAET,6LAAC,qKAAA,CAAA,QAAqB;gBACpB,aAAU;gBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;0BAGF,cAAA,6LAAC,qKAAA,CAAA,QAAqB;oBACpB,aAAU;oBACV,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV;;;;;;;;;;;YAIL,MAAM,IAAI,CAAC;gBAAE,QAAQ,QAAQ,MAAM;YAAC,GAAG,CAAC,GAAG,sBAC1C,6LAAC,qKAAA,CAAA,QAAqB;oBACpB,aAAU;oBAEV,WAAU;mBADL;;;;;;;;;;;AAMf;GArDS;KAAA","debugId":null}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/pdf/PDFToolbar.tsx"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport { Button } from \"@/components/ui/button\";\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Input } from \"@/components/ui/input\";\nimport { Slider } from \"@/components/ui/slider\";\nimport { \n  Type, \n  Image as ImageIcon, \n  Pen, \n  Highlighter, \n  Square, \n  Circle,\n  PenTool\n} from 'lucide-react';\n\nexport type EditingTool = 'text' | 'image' | 'signature' | 'highlight' | 'draw' | 'shape';\n\ninterface PDFToolbarProps {\n  activeTool: EditingTool;\n  onToolChange: (tool: EditingTool) => void;\n  onColorChange: (color: string) => void;\n  onSizeChange: (size: number) => void;\n  selectedColor: string;\n  selectedSize: number;\n}\n\nconst tools = [\n  { id: 'text' as const, label: 'Text', icon: Type },\n  { id: 'image' as const, label: 'Image', icon: ImageIcon },\n  { id: 'signature' as const, label: 'Sign', icon: PenTool },\n  { id: 'highlight' as const, label: 'Highlight', icon: Highlighter },\n  { id: 'draw' as const, label: 'Draw', icon: Pen },\n  { id: 'shape' as const, label: 'Shape', icon: Square }\n];\n\nexport default function PDFToolbar({\n  activeTool,\n  onToolChange,\n  onColorChange,\n  onSizeChange,\n  selectedColor,\n  selectedSize\n}: PDFToolbarProps) {\n  return (\n    <div className=\"flex flex-col gap-4 p-4 border rounded-lg bg-white shadow-sm\">\n      <Tabs value={activeTool} onValueChange={(value) => onToolChange(value as EditingTool)}>\n        <TabsList className=\"grid grid-cols-6 gap-2\">\n          {tools.map((tool) => (\n            <TabsTrigger \n              key={tool.id} \n              value={tool.id}\n              className=\"flex flex-col items-center gap-1 p-2\"\n            >\n              <tool.icon className=\"w-5 h-5\" />\n              <span className=\"text-xs\">{tool.label}</span>\n            </TabsTrigger>\n          ))}\n        </TabsList>\n      </Tabs>\n\n      <div className=\"flex items-center gap-4\">\n        <div className=\"flex items-center gap-2\">\n          <label className=\"text-sm font-medium\">Color:</label>\n          <Input\n            type=\"color\"\n            value={selectedColor}\n            onChange={(e) => onColorChange(e.target.value)}\n            className=\"w-12 h-8 p-0 border-0\"\n          />\n        </div>\n        \n        <div className=\"flex items-center gap-2 flex-1\">\n          <label className=\"text-sm font-medium\">Size:</label>\n          <Slider\n            value={[selectedSize]}\n            onValueChange={(value) => onSizeChange(value[0])}\n            min={1}\n            max={50}\n            step={1}\n            className=\"w-32\"\n          />\n          <span className=\"text-sm w-12 text-right\">{selectedSize}px</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;;;;;;AA4BA,MAAM,QAAQ;IACZ;QAAE,IAAI;QAAiB,OAAO;QAAQ,MAAM,qMAAA,CAAA,OAAI;IAAC;IACjD;QAAE,IAAI;QAAkB,OAAO;QAAS,MAAM,uMAAA,CAAA,QAAS;IAAC;IACxD;QAAE,IAAI;QAAsB,OAAO;QAAQ,MAAM,+MAAA,CAAA,UAAO;IAAC;IACzD;QAAE,IAAI;QAAsB,OAAO;QAAa,MAAM,mNAAA,CAAA,cAAW;IAAC;IAClE;QAAE,IAAI;QAAiB,OAAO;QAAQ,MAAM,mMAAA,CAAA,MAAG;IAAC;IAChD;QAAE,IAAI;QAAkB,OAAO;QAAS,MAAM,yMAAA,CAAA,SAAM;IAAC;CACtD;AAEc,SAAS,WAAW,EACjC,UAAU,EACV,YAAY,EACZ,aAAa,EACb,YAAY,EACZ,aAAa,EACb,YAAY,EACI;IAChB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,mIAAA,CAAA,OAAI;gBAAC,OAAO;gBAAY,eAAe,CAAC,QAAU,aAAa;0BAC9D,cAAA,6LAAC,mIAAA,CAAA,WAAQ;oBAAC,WAAU;8BACjB,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC,mIAAA,CAAA,cAAW;4BAEV,OAAO,KAAK,EAAE;4BACd,WAAU;;8CAEV,6LAAC,KAAK,IAAI;oCAAC,WAAU;;;;;;8CACrB,6LAAC;oCAAK,WAAU;8CAAW,KAAK,KAAK;;;;;;;2BALhC,KAAK,EAAE;;;;;;;;;;;;;;;0BAWpB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAsB;;;;;;0CACvC,6LAAC,oIAAA,CAAA,QAAK;gCACJ,MAAK;gCACL,OAAO;gCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gCAC7C,WAAU;;;;;;;;;;;;kCAId,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAM,WAAU;0CAAsB;;;;;;0CACvC,6LAAC,qIAAA,CAAA,SAAM;gCACL,OAAO;oCAAC;iCAAa;gCACrB,eAAe,CAAC,QAAU,aAAa,KAAK,CAAC,EAAE;gCAC/C,KAAK;gCACL,KAAK;gCACL,MAAM;gCACN,WAAU;;;;;;0CAEZ,6LAAC;gCAAK,WAAU;;oCAA2B;oCAAa;;;;;;;;;;;;;;;;;;;;;;;;;AAKlE;KAnDwB","debugId":null}},
    {"offset": {"line": 690, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/pdf/SignaturePad.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useRef, useEffect, useState } from 'react';\nimport { Button } from \"@/components/ui/button\";\nimport { Point } from '@/types/pdf-editor';\n\ninterface SignaturePadProps {\n  onSave: (points: Point[]) => void;\n  onCancel: () => void;\n  color: string;\n  size: number;\n}\n\nexport default function SignaturePad({ onSave, onCancel, color, size }: SignaturePadProps) {\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [points, setPoints] = useState<Point[]>([]);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Set canvas size\n    canvas.width = 500;\n    canvas.height = 200;\n\n    // Clear canvas\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    // Draw signature\n    if (points.length > 1) {\n      ctx.beginPath();\n      ctx.moveTo(points[0].x, points[0].y);\n      \n      for (let i = 1; i < points.length; i++) {\n        ctx.lineTo(points[i].x, points[i].y);\n      }\n      \n      ctx.strokeStyle = color;\n      ctx.lineWidth = size;\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n      ctx.stroke();\n    }\n  }, [points, color, size]);\n\n  const handleMouseDown = (event: React.MouseEvent<HTMLCanvasElement>) => {\n    setIsDrawing(true);\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const rect = canvas.getBoundingClientRect();\n    const point = {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    };\n    setPoints([point]);\n  };\n\n  const handleMouseMove = (event: React.MouseEvent<HTMLCanvasElement>) => {\n    if (!isDrawing) return;\n\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const rect = canvas.getBoundingClientRect();\n    const point = {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    };\n    setPoints(prev => [...prev, point]);\n  };\n\n  const handleMouseUp = () => {\n    setIsDrawing(false);\n  };\n\n  const handleClear = () => {\n    setPoints([]);\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    ctx.fillStyle = 'white';\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-4 max-w-xl w-full\">\n        <h3 className=\"text-lg font-semibold mb-4\">Draw Your Signature</h3>\n        <div className=\"border border-gray-300 rounded mb-4\">\n          <canvas\n            ref={canvasRef}\n            className=\"w-full cursor-crosshair bg-white\"\n            onMouseDown={handleMouseDown}\n            onMouseMove={handleMouseMove}\n            onMouseUp={handleMouseUp}\n            onMouseLeave={handleMouseUp}\n          />\n        </div>\n        <div className=\"flex justify-end gap-2\">\n          <Button variant=\"outline\" onClick={handleClear}>\n            Clear\n          </Button>\n          <Button variant=\"outline\" onClick={onCancel}>\n            Cancel\n          </Button>\n          <Button \n            onClick={() => onSave(points)}\n            disabled={points.length === 0}\n          >\n            Save\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/pdf/ImageUploader.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from 'react';\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\n\ninterface ImageUploaderProps {\n  onSave: (imageUrl: string) => void;\n  onCancel: () => void;\n}\n\nexport default function ImageUploader({ onSave, onCancel }: ImageUploaderProps) {\n  const [imageUrl, setImageUrl] = useState('');\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleFileChange = async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      setError('Image size must be less than 5MB');\n      return;\n    }\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      // Create a local URL for the image\n      const url = URL.createObjectURL(file);\n      setImageUrl(url);\n    } catch (err) {\n      setError('Failed to load image');\n      console.error('Image load error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleUrlChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setImageUrl(event.target.value);\n    setError('');\n  };\n\n  const handleSave = () => {\n    if (!imageUrl) {\n      setError('Please provide an image');\n      return;\n    }\n    onSave(imageUrl);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-4 max-w-xl w-full\">\n        <h3 className=\"text-lg font-semibold mb-4\">Add Image</h3>\n        \n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Upload Image</label>\n            <Input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleFileChange}\n              disabled={isLoading}\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium mb-2\">Or Enter Image URL</label>\n            <Input\n              type=\"url\"\n              placeholder=\"https://example.com/image.jpg\"\n              value={imageUrl}\n              onChange={handleUrlChange}\n              disabled={isLoading}\n            />\n          </div>\n\n          {error && (\n            <p className=\"text-red-500 text-sm\">{error}</p>\n          )}\n\n          {imageUrl && (\n            <div className=\"mt-4 border border-gray-200 rounded p-2\">\n              <img\n                src={imageUrl}\n                alt=\"Preview\"\n                className=\"max-h-48 mx-auto object-contain\"\n                onError={() => {\n                  setError('Failed to load image');\n                  setImageUrl('');\n                }}\n              />\n            </div>\n          )}\n\n          <div className=\"flex justify-end gap-2 mt-4\">\n            <Button variant=\"outline\" onClick={onCancel}>\n              Cancel\n            </Button>\n            <Button\n              onClick={handleSave}\n              disabled={!imageUrl || isLoading}\n            >\n              {isLoading ? 'Loading...' : 'Add Image'}\n            </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAWe,SAAS,cAAc,EAAE,MAAM,EAAE,QAAQ,EAAsB;;IAC5E,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,mBAAmB,OAAO;QAC9B,MAAM,OAAO,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;QACpC,IAAI,CAAC,MAAM;QAEX,qBAAqB;QACrB,IAAI,CAAC,KAAK,IAAI,CAAC,UAAU,CAAC,WAAW;YACnC,SAAS;YACT;QACF;QAEA,+BAA+B;QAC/B,IAAI,KAAK,IAAI,GAAG,IAAI,OAAO,MAAM;YAC/B,SAAS;YACT;QACF;QAEA,aAAa;QACb,SAAS;QAET,IAAI;YACF,mCAAmC;YACnC,MAAM,MAAM,IAAI,eAAe,CAAC;YAChC,YAAY;QACd,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,QAAQ,KAAK,CAAC,qBAAqB;QACrC,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,YAAY,MAAM,MAAM,CAAC,KAAK;QAC9B,SAAS;IACX;IAEA,MAAM,aAAa;QACjB,IAAI,CAAC,UAAU;YACb,SAAS;YACT;QACF;QACA,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAE3C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,6LAAC,oIAAA,CAAA,QAAK;oCACJ,MAAK;oCACL,QAAO;oCACP,UAAU;oCACV,UAAU;;;;;;;;;;;;sCAId,6LAAC;;8CACC,6LAAC;oCAAM,WAAU;8CAAiC;;;;;;8CAClD,6LAAC,oIAAA,CAAA,QAAK;oCACJ,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU;oCACV,UAAU;;;;;;;;;;;;wBAIb,uBACC,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;wBAGtC,0BACC,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC;gCACC,KAAK;gCACL,KAAI;gCACJ,WAAU;gCACV,SAAS;oCACP,SAAS;oCACT,YAAY;gCACd;;;;;;;;;;;sCAKN,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,qIAAA,CAAA,SAAM;oCAAC,SAAQ;oCAAU,SAAS;8CAAU;;;;;;8CAG7C,6LAAC,qIAAA,CAAA,SAAM;oCACL,SAAS;oCACT,UAAU,CAAC,YAAY;8CAEtB,YAAY,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO1C;GA7GwB;KAAA","debugId":null}},
    {"offset": {"line": 1079, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/lib/pdf-editor-utils.ts"],"sourcesContent":["import { Point, PDFAnnotation, ShapeAnnotation } from '@/types/pdf-editor';\n\nexport function drawLine(\n  ctx: CanvasRenderingContext2D,\n  points: Point[],\n  color: string,\n  size: number\n) {\n  if (points.length < 2) return;\n\n  ctx.beginPath();\n  ctx.moveTo(points[0].x, points[0].y);\n  \n  for (let i = 1; i < points.length; i++) {\n    ctx.lineTo(points[i].x, points[i].y);\n  }\n  \n  ctx.strokeStyle = color;\n  ctx.lineWidth = size;\n  ctx.lineCap = 'round';\n  ctx.lineJoin = 'round';\n  ctx.stroke();\n}\n\nexport function drawShape(\n  ctx: CanvasRenderingContext2D,\n  shape: ShapeAnnotation\n) {\n  ctx.beginPath();\n  ctx.strokeStyle = shape.color;\n  ctx.lineWidth = shape.size;\n\n  switch (shape.shapeType) {\n    case 'rectangle':\n      const width = shape.end.x - shape.start.x;\n      const height = shape.end.y - shape.start.y;\n      ctx.strokeRect(shape.start.x, shape.start.y, width, height);\n      break;\n\n    case 'circle':\n      const centerX = (shape.start.x + shape.end.x) / 2;\n      const centerY = (shape.start.y + shape.end.y) / 2;\n      const radius = Math.sqrt(\n        Math.pow(shape.end.x - shape.start.x, 2) +\n        Math.pow(shape.end.y - shape.start.y, 2)\n      ) / 2;\n      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n      ctx.stroke();\n      break;\n\n    case 'line':\n      ctx.moveTo(shape.start.x, shape.start.y);\n      ctx.lineTo(shape.end.x, shape.end.y);\n      ctx.stroke();\n      break;\n\n    case 'arrow':\n      const angle = Math.atan2(shape.end.y - shape.start.y, shape.end.x - shape.start.x);\n      const headLength = 15;\n\n      // Draw the main line\n      ctx.moveTo(shape.start.x, shape.start.y);\n      ctx.lineTo(shape.end.x, shape.end.y);\n      \n      // Draw the arrow head\n      ctx.lineTo(\n        shape.end.x - headLength * Math.cos(angle - Math.PI / 6),\n        shape.end.y - headLength * Math.sin(angle - Math.PI / 6)\n      );\n      ctx.moveTo(shape.end.x, shape.end.y);\n      ctx.lineTo(\n        shape.end.x - headLength * Math.cos(angle + Math.PI / 6),\n        shape.end.y - headLength * Math.sin(angle + Math.PI / 6)\n      );\n      ctx.stroke();\n      break;\n  }\n}\n\nexport function renderAnnotation(\n  ctx: CanvasRenderingContext2D,\n  annotation: PDFAnnotation,\n  isSelected: boolean = false\n) {\n  switch (annotation.type) {\n    case 'text': {\n      const fontSize = annotation.size * 16;\n      ctx.font = `${fontSize}px Arial`;\n      \n      // Calculate text dimensions\n      const metrics = ctx.measureText(annotation.content);\n      const textWidth = metrics.width;\n      const textHeight = fontSize;\n      \n      // Draw background for better visibility\n      if (isSelected) {\n        ctx.fillStyle = 'rgba(200, 200, 200, 0.3)';\n        ctx.fillRect(\n          annotation.position.x - 4,\n          annotation.position.y - textHeight + 4,\n          textWidth + 8,\n          textHeight + 8\n        );\n        \n        // Draw selection border\n        ctx.strokeStyle = annotation.color;\n        ctx.lineWidth = 1;\n        ctx.strokeRect(\n          annotation.position.x - 4,\n          annotation.position.y - textHeight + 4,\n          textWidth + 8,\n          textHeight + 8\n        );\n      }\n      \n      // Draw text\n      ctx.fillStyle = annotation.color;\n      ctx.fillText(annotation.content, annotation.position.x, annotation.position.y);\n      break;\n    }\n\n    case 'image': {\n      const img = new Image();\n      img.onload = () => {\n        ctx.drawImage(\n          img,\n          annotation.position.x,\n          annotation.position.y,\n          annotation.width,\n          annotation.height\n        );\n      };\n      img.src = annotation.url;\n      break;\n    }\n\n    case 'draw':\n      drawLine(ctx, annotation.points, annotation.color, annotation.size);\n      break;\n\n    case 'shape':\n      drawShape(ctx, annotation);\n      break;\n\n    case 'highlight':\n      ctx.globalAlpha = 0.3;\n      drawLine(ctx, annotation.points, annotation.color, 20);\n      ctx.globalAlpha = 1;\n      break;\n\n    case 'signature':\n      ctx.strokeStyle = annotation.color;\n      ctx.lineWidth = annotation.size;\n      ctx.lineCap = 'round';\n      ctx.lineJoin = 'round';\n      \n      ctx.beginPath();\n      ctx.moveTo(annotation.points[0].x, annotation.points[0].y);\n      \n      for (let i = 1; i < annotation.points.length; i++) {\n        ctx.lineTo(annotation.points[i].x, annotation.points[i].y);\n      }\n      \n      ctx.stroke();\n      break;\n  }\n}\n\nexport function getMousePoint(\n  event: React.MouseEvent<HTMLDivElement>,\n  container: HTMLDivElement\n): Point {\n  const rect = container.getBoundingClientRect();\n  return {\n    x: event.clientX - rect.left,\n    y: event.clientY - rect.top\n  };\n}\n\nexport function isPointInShape(point: Point, shape: ShapeAnnotation): boolean {\n  switch (shape.shapeType) {\n    case 'rectangle': {\n      const minX = Math.min(shape.start.x, shape.end.x);\n      const maxX = Math.max(shape.start.x, shape.end.x);\n      const minY = Math.min(shape.start.y, shape.end.y);\n      const maxY = Math.max(shape.start.y, shape.end.y);\n      return (\n        point.x >= minX &&\n        point.x <= maxX &&\n        point.y >= minY &&\n        point.y <= maxY\n      );\n    }\n\n    case 'circle': {\n      const centerX = (shape.start.x + shape.end.x) / 2;\n      const centerY = (shape.start.y + shape.end.y) / 2;\n      const radius = Math.sqrt(\n        Math.pow(shape.end.x - shape.start.x, 2) +\n        Math.pow(shape.end.y - shape.start.y, 2)\n      ) / 2;\n      const distance = Math.sqrt(\n        Math.pow(point.x - centerX, 2) +\n        Math.pow(point.y - centerY, 2)\n      );\n      return distance <= radius;\n    }\n\n    case 'line':\n    case 'arrow': {\n      const tolerance = 5;\n      const dx = shape.end.x - shape.start.x;\n      const dy = shape.end.y - shape.start.y;\n      const length = Math.sqrt(dx * dx + dy * dy);\n      const dist = Math.abs(\n        (dy * point.x - dx * point.y + shape.end.x * shape.start.y - shape.end.y * shape.start.x) /\n        length\n      );\n      return dist <= tolerance;\n    }\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1239, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/pdf/PDFEditor.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useCallback, useRef, useEffect } from 'react';\nimport { Document, Page, pdfjs } from 'react-pdf';\nimport 'react-pdf/dist/esm/Page/AnnotationLayer.css';\nimport { Button } from \"@/components/ui/button\";\nimport { AlertDialog, AlertDialogContent, AlertDialogHeader, AlertDialogTitle, AlertDialogDescription, AlertDialogFooter, AlertDialogCancel } from \"@/components/ui/alert-dialog\";\nimport PDFToolbar from './PDFToolbar';\nimport SignaturePad from './SignaturePad';\nimport ImageUploader from './ImageUploader';\nimport { EditingTool, PDFAnnotation, Point, TextAnnotation, ShapeAnnotation, SignatureAnnotation, ImageAnnotation } from '@/types/pdf-editor';\nimport { renderAnnotation, getMousePoint, drawShape } from '@/lib/pdf-editor-utils';\nimport { Square, Circle } from 'lucide-react';\n\n// Set up PDF.js worker\nif (typeof window !== 'undefined') {\n  pdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\n}\n\ninterface PDFEditorProps {\n  onUpload?: () => Promise<boolean>;\n}\n\nexport default function PDFEditor({ onUpload }: PDFEditorProps) {\n  const [file, setFile] = useState<File | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [showError, setShowError] = useState(false);\n  const [numPages, setNumPages] = useState<number | null>(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [annotations, setAnnotations] = useState<PDFAnnotation[]>([]);\n  const [isAuthenticating, setIsAuthenticating] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n  const [activeTool, setActiveTool] = useState<EditingTool>('text');\n  const [selectedColor, setSelectedColor] = useState('#000000');\n  const [selectedSize, setSelectedSize] = useState(2);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [currentPoints, setCurrentPoints] = useState<Point[]>([]);\n  const [textInput, setTextInput] = useState('');\n  const [showSignaturePad, setShowSignaturePad] = useState(false);\n  const [showImageUploader, setShowImageUploader] = useState(false);\n  const [selectedImage, setSelectedImage] = useState<{ url: string; width: number; height: number } | null>(null);\n  const [selectedShape, setSelectedShape] = useState<'rectangle' | 'circle'>('rectangle');\n  const [selectedAnnotation, setSelectedAnnotation] = useState<PDFAnnotation | null>(null);\n  const [hoveredAnnotation, setHoveredAnnotation] = useState<PDFAnnotation | null>(null);\n  const [draggedAnnotation, setDraggedAnnotation] = useState<PDFAnnotation | null>(null);\n  const [dragOffset, setDragOffset] = useState<Point>({ x: 0, y: 0 });\n  \n  const pdfWrapperRef = useRef<HTMLDivElement>(null);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const pageDimensionsRef = useRef<{ width: number; height: number }>({ width: 0, height: 0 });\n\n  const handleDrawingEvents = useCallback((e: React.MouseEvent<HTMLDivElement>, eventType: string) => {\n    e.preventDefault();\n    if (!isEditing || !pdfWrapperRef.current) return;\n\n    const point = getMousePoint(e, pdfWrapperRef.current);\n\n    switch (eventType) {\n      case 'mousedown':\n        // Check if clicking on an existing annotation\n        const clickedAnnotation = annotations\n          .filter(ann => ann.page === pageNumber)\n          .find(ann => {\n            if (ann.type === 'text') {\n              const { x, y } = ann.position;\n              return Math.abs(x - point.x) < 20 && Math.abs(y - point.y) < 20;\n            }\n            if (ann.type === 'signature' || ann.type === 'image') {\n              const { x, y } = ann.position;\n              const width = ann.type === 'image' ? ann.width : 100;\n              const height = ann.type === 'image' ? ann.height : 50;\n              return (\n                point.x >= x &&\n                point.x <= x + width &&\n                point.y >= y &&\n                point.y <= y + height\n              );\n            }\n            return false;\n          });\n\n        if (clickedAnnotation) {\n          if (clickedAnnotation.type === 'text') {\n            setSelectedAnnotation(clickedAnnotation);\n            setTextInput(clickedAnnotation.content);\n            setActiveTool('text');\n          } else if (clickedAnnotation.type === 'signature' || clickedAnnotation.type === 'image') {\n            setDraggedAnnotation(clickedAnnotation);\n            setDragOffset({\n              x: point.x - clickedAnnotation.position.x,\n              y: point.y - clickedAnnotation.position.y\n            });\n          }\n          return;\n        }\n\n        if (activeTool === 'text' && textInput.trim()) {\n          const textAnnotation: TextAnnotation = {\n            type: 'text',\n            id: Math.random().toString(36).substr(2, 9),\n            content: textInput,\n            position: point,\n            color: selectedColor,\n            size: selectedSize,\n            page: pageNumber\n          };\n          \n          if (selectedAnnotation?.type === 'text') {\n            // Update existing annotation\n            setAnnotations(prev => prev.map(ann => \n              ann === selectedAnnotation ? textAnnotation : ann\n            ));\n            setSelectedAnnotation(null);\n          } else {\n            // Add new annotation\n            setAnnotations(prev => [...prev, textAnnotation]);\n          }\n          setTextInput('');\n        } else if (activeTool === 'signature') {\n          setShowSignaturePad(true);\n        } else if (activeTool === 'image') {\n          setShowImageUploader(true);\n        } else if (activeTool === 'shape') {\n          const shapeAnnotation: ShapeAnnotation = {\n            type: 'shape',\n            shapeType: selectedShape,\n            start: point,\n            end: point,\n            color: selectedColor,\n            size: selectedSize,\n            page: pageNumber\n          };\n          setAnnotations(prev => [...prev, shapeAnnotation]);\n          setIsDrawing(true);\n        } else {\n          setIsDrawing(true);\n          setCurrentPoints([point]);\n        }\n        break;\n\n      case 'mousemove':\n        if (draggedAnnotation) {\n          setAnnotations(prev => prev.map(ann => {\n            if (ann === draggedAnnotation) {\n              if (ann.type === 'signature' || ann.type === 'image') {\n                return {\n                  ...ann,\n                  position: {\n                    x: point.x - dragOffset.x,\n                    y: point.y - dragOffset.y\n                  }\n                };\n              }\n            }\n            return ann;\n          }));\n        } else if (isDrawing) {\n          if (activeTool === 'shape') {\n            setAnnotations(prev => {\n              const newAnnotations = [...prev];\n              const lastAnnotation = newAnnotations[newAnnotations.length - 1] as ShapeAnnotation;\n              if (lastAnnotation?.type === 'shape') {\n                lastAnnotation.end = point;\n              }\n              return newAnnotations;\n            });\n          } else {\n            setCurrentPoints(prev => [...prev, point]);\n          }\n        }\n        break;\n\n      case 'mouseup':\n      case 'mouseleave':\n        if (draggedAnnotation) {\n          setDraggedAnnotation(null);\n          setDragOffset({ x: 0, y: 0 });\n        } else if (isDrawing) {\n          setIsDrawing(false);\n          if (activeTool !== 'shape' && currentPoints.length > 0) {\n            const newAnnotation: PDFAnnotation = {\n              type: activeTool === 'draw' ? 'draw' : 'highlight',\n              points: currentPoints,\n              color: selectedColor,\n              size: selectedSize,\n              page: pageNumber\n            };\n            setAnnotations(prev => [...prev, newAnnotation]);\n            setCurrentPoints([]);\n          }\n        }\n        break;\n    }\n  }, [\n    isEditing,\n    isDrawing,\n    activeTool,\n    textInput,\n    selectedColor,\n    selectedSize,\n    pageNumber,\n    selectedShape,\n    currentPoints\n  ]);\n\n  const updateCanvasSize = useCallback(() => {\n    if (!canvasRef.current || !pageDimensionsRef.current) return;\n    const { width, height } = pageDimensionsRef.current;\n    canvasRef.current.width = width;\n    canvasRef.current.height = height;\n  }, []);\n\n  const renderCanvas = useCallback(() => {\n    const canvas = canvasRef.current;\n    const ctx = canvas?.getContext('2d');\n    if (!canvas || !ctx) return;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    annotations\n      .filter(ann => ann.page === pageNumber)\n      .forEach(ann => renderAnnotation(ctx, ann, ann === selectedAnnotation));\n\n    if (isDrawing && currentPoints.length > 0) {\n      const currentAnnotation: PDFAnnotation = {\n        type: activeTool === 'draw' ? 'draw' : 'highlight',\n        points: currentPoints,\n        color: selectedColor,\n        size: selectedSize,\n        page: pageNumber\n      };\n      renderAnnotation(ctx, currentAnnotation);\n    }\n  }, [annotations, currentPoints, isDrawing, pageNumber, activeTool, selectedColor, selectedSize]);\n\n  const handlePageDivRef = useCallback((pageDiv: HTMLDivElement | null) => {\n    if (!pageDiv) return;\n    \n    const { width, height } = pageDiv.getBoundingClientRect();\n    pageDimensionsRef.current = { width, height };\n    \n    requestAnimationFrame(() => {\n      updateCanvasSize();\n      renderCanvas();\n    });\n  }, [updateCanvasSize, renderCanvas]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (!pdfWrapperRef.current) return;\n      const { width, height } = pdfWrapperRef.current.getBoundingClientRect();\n      pageDimensionsRef.current = { width, height };\n      updateCanvasSize();\n      renderCanvas();\n    };\n\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, [updateCanvasSize, renderCanvas]);\n\n  useEffect(() => {\n    if (canvasRef.current && pageDimensionsRef.current.width > 0) {\n      renderCanvas();\n    }\n  }, [renderCanvas, annotations, currentPoints, isDrawing]);\n\n  const handleSignatureSave = (points: Point[]) => {\n    if (points.length === 0) return;\n\n    const signatureAnnotation: SignatureAnnotation = {\n      type: 'signature',\n      id: Math.random().toString(36).substr(2, 9),\n      points,\n      color: selectedColor,\n      size: selectedSize,\n      page: pageNumber,\n      position: { x: 50, y: 50 }, // Initial position\n      isDragging: false\n    };\n\n    setAnnotations(prev => [...prev, signatureAnnotation]);\n    setShowSignaturePad(false);\n  };\n\n  const handleImageSave = (imageUrl: string) => {\n    const img = new Image();\n    img.onload = () => {\n      const maxWidth = 300;\n      const scale = maxWidth / img.width;\n      const width = maxWidth;\n      const height = img.height * scale;\n\n      const imageAnnotation: PDFAnnotation = {\n        type: 'image',\n        url: imageUrl,\n        position: { x: 50, y: 50 },\n        width,\n        height,\n        page: pageNumber\n      };\n\n      setAnnotations(prev => [...prev, imageAnnotation]);\n      setSelectedImage({ url: imageUrl, width, height });\n      setShowImageUploader(false);\n    };\n    img.src = imageUrl;\n  };\n\n  const handleFileChange = useCallback(async (event: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = event.target.files?.[0];\n    \n    if (!selectedFile) return;\n\n    if (selectedFile.type !== 'application/pdf') {\n      setError('Please upload a PDF file');\n      setShowError(true);\n      return;\n    }\n\n    if (selectedFile.size > 10 * 1024 * 1024) {\n      setError('File size must be less than 10MB');\n      setShowError(true);\n      return;\n    }\n\n    // Reset all states when a new file is uploaded\n    setFile(selectedFile);\n    setIsEditing(false);\n    setAnnotations([]);\n    setCurrentPoints([]);\n    setActiveTool('text');\n    setSelectedColor('#000000');\n    setSelectedSize(2);\n    setTextInput('');\n  }, []);\n\n  const onDocumentLoadSuccess = ({ numPages }: { numPages: number }) => {\n    setNumPages(numPages);\n    setPageNumber(1);\n  };\n\n  const onDocumentLoadError = (error: Error) => {\n    console.error('Error loading PDF:', error);\n    setError(error.message);\n    setShowError(true);\n  };\n\n  return (\n    <div className=\"w-full\">\n      {!file ? (\n        <div className=\"flex flex-col items-center justify-center w-full min-h-[400px] border-2 border-dashed border-gray-300 rounded-lg p-6\">\n          <input\n            type=\"file\"\n            accept=\".pdf\"\n            onChange={handleFileChange}\n            className=\"hidden\"\n            id=\"pdf-upload\"\n          />\n          <label htmlFor=\"pdf-upload\" className=\"cursor-pointer\">\n            <div className=\"flex flex-col items-center\">\n              <svg\n                className=\"w-12 h-12 text-gray-400 mb-4\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                />\n              </svg>\n              <p className=\"text-lg font-semibold text-gray-700\">Drop your PDF here</p>\n              <p className=\"text-sm text-gray-500 mt-2\">or click to upload</p>\n            </div>\n          </label>\n        </div>\n      ) : (\n        <div className=\"w-full flex flex-col items-center\">\n          <h3 className=\"text-lg font-semibold mb-4\">{file.name}</h3>\n          <div className=\"flex gap-4 mb-4\">\n            <Button onClick={() => setFile(null)}>Remove</Button>\n            {isEditing ? (\n              <>\n                <Button onClick={() => setAnnotations([])}>Clear All</Button>\n                <Button onClick={() => setIsEditing(false)}>Stop Editing</Button>\n              </>\n            ) : (\n              <Button \n                onClick={async () => {\n                  if (!file) {\n                    setError('Please upload a PDF file first');\n                    setShowError(true);\n                    return;\n                  }\n                  if (!numPages) {\n                    setError('Please wait for the PDF to load');\n                    setShowError(true);\n                    return;\n                  }\n                  try {\n                    setIsAuthenticating(true);\n                    \n                    // Check subscription status\n                    const response = await fetch('/api/usage/check');\n                    const data = await response.json();\n                    \n                    if (!data.canEdit) {\n                      window.location.href = '/subscription';\n                      return;\n                    }\n\n                    const canEdit = await onUpload?.();\n                    if (canEdit) {\n                      setIsEditing(true);\n                    }\n                  } catch (error) {\n                    console.error('Error:', error);\n                    setError('Failed to start editing. Please try again.');\n                    setShowError(true);\n                  } finally {\n                    setIsAuthenticating(false);\n                  }\n                }}\n                disabled={!file || !numPages || isAuthenticating}\n              >\n                {!file ? 'Start Editing' : \n                  !numPages ? 'Loading PDF...' : \n                  isAuthenticating ? 'Checking...' : \n                  'Start Editing'}\n              </Button>\n            )}\n          </div>\n\n          {isEditing && (\n            <div className=\"w-full mb-4\">\n              <div className=\"space-y-4\">\n                <PDFToolbar\n                  activeTool={activeTool}\n                  onToolChange={(tool) => {\n                    setActiveTool(tool);\n                    if (tool === 'signature') {\n                      setShowSignaturePad(true);\n                    } else if (tool === 'image') {\n                      setShowImageUploader(true);\n                    }\n                  }}\n                  onColorChange={setSelectedColor}\n                  onSizeChange={setSelectedSize}\n                  selectedColor={selectedColor}\n                  selectedSize={selectedSize}\n                />\n                {activeTool === 'text' && (\n                  <div className=\"flex gap-2\">\n                    <input\n                      type=\"text\"\n                      value={textInput}\n                      onChange={(e) => setTextInput(e.target.value)}\n                      placeholder={selectedAnnotation ? \"Edit text...\" : \"Enter text to add...\"}\n                      className=\"flex-1 p-2 border border-gray-300 rounded\"\n                    />\n                    <Button \n                      onClick={() => {\n                        setTextInput('');\n                        setSelectedAnnotation(null);\n                      }}\n                      variant=\"outline\"\n                      size=\"sm\"\n                    >\n                      {selectedAnnotation ? \"Cancel\" : \"Clear\"}\n                    </Button>\n                    {selectedAnnotation && (\n                      <Button\n                        onClick={() => {\n                          setAnnotations(prev => prev.filter(ann => ann !== selectedAnnotation));\n                          setTextInput('');\n                          setSelectedAnnotation(null);\n                        }}\n                        variant=\"destructive\"\n                        size=\"sm\"\n                      >\n                        Delete\n                      </Button>\n                    )}\n                  </div>\n                )}\n                {activeTool === 'shape' && (\n                  <div className=\"flex gap-2 justify-center\">\n                    <Button\n                      variant={selectedShape === 'rectangle' ? 'default' : 'outline'}\n                      size=\"sm\"\n                      onClick={() => setSelectedShape('rectangle')}\n                    >\n                      <Square className=\"w-4 h-4 mr-1\" />\n                      Rectangle\n                    </Button>\n                    <Button\n                      variant={selectedShape === 'circle' ? 'default' : 'outline'}\n                      size=\"sm\"\n                      onClick={() => setSelectedShape('circle')}\n                    >\n                      <Circle className=\"w-4 h-4 mr-1\" />\n                      Circle\n                    </Button>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          <div className=\"w-full flex justify-center\">\n            <div \n              className=\"relative border border-gray-300 rounded overflow-hidden shadow-lg bg-white w-full\"\n              style={{ maxWidth: '1000px', minHeight: '600px' }}\n            >\n              <div\n                ref={pdfWrapperRef}\n                className=\"relative w-full h-full\"\n                onMouseDown={(e) => {\n                  const point = getMousePoint(e, pdfWrapperRef.current!);\n                  const clickedAnnotation = annotations\n                    .filter(ann => ann.page === pageNumber)\n                    .find(ann => {\n                      if (ann.type === 'signature' || ann.type === 'image') {\n                        const { x, y } = ann.position;\n                        const width = ann.type === 'image' ? ann.width : 100;\n                        const height = ann.type === 'image' ? ann.height : 50;\n                        return (\n                          point.x >= x &&\n                          point.x <= x + width &&\n                          point.y >= y &&\n                          point.y <= y + height\n                        );\n                      }\n                      return false;\n                    });\n\n                  if (clickedAnnotation && (clickedAnnotation.type === 'signature' || clickedAnnotation.type === 'image')) {\n                    setDraggedAnnotation(clickedAnnotation);\n                    setDragOffset({\n                      x: point.x - clickedAnnotation.position.x,\n                      y: point.y - clickedAnnotation.position.y\n                    });\n                  } else {\n                    handleDrawingEvents(e, 'mousedown');\n                  }\n                }}\n                onMouseMove={(e) => {\n                  if (draggedAnnotation) {\n                    const point = getMousePoint(e, pdfWrapperRef.current!);\n                    setAnnotations(prev => prev.map(ann => {\n                      if (ann === draggedAnnotation) {\n                        if (ann.type === 'signature' || ann.type === 'image') {\n                          return {\n                            ...ann,\n                            position: {\n                              x: point.x - dragOffset.x,\n                              y: point.y - dragOffset.y\n                            }\n                          };\n                        }\n                      }\n                      return ann;\n                    }));\n                  } else {\n                    handleDrawingEvents(e, 'mousemove');\n                  }\n                }}\n                onMouseUp={(e) => {\n                  if (draggedAnnotation) {\n                    setDraggedAnnotation(null);\n                    setDragOffset({ x: 0, y: 0 });\n                  } else {\n                    handleDrawingEvents(e, 'mouseup');\n                  }\n                }}\n                onMouseLeave={(e) => {\n                  if (draggedAnnotation) {\n                    setDraggedAnnotation(null);\n                    setDragOffset({ x: 0, y: 0 });\n                  } else {\n                    handleDrawingEvents(e, 'mouseleave');\n                  }\n                }}\n                onDoubleClick={(e) => {\n                  if (!isEditing || !pdfWrapperRef.current || !canvasRef.current) return;\n                  \n                  const point = getMousePoint(e, pdfWrapperRef.current);\n                  const ctx = canvasRef.current.getContext('2d');\n                  if (!ctx) return;\n\n                  const textAnnotation = annotations\n                    .filter((ann): ann is TextAnnotation => ann.page === pageNumber && ann.type === 'text')\n                    .find(ann => {\n                      const { x, y } = ann.position;\n                      const fontSize = ann.size * 16;\n                      ctx.font = `${fontSize}px Arial`;\n                      const metrics = ctx.measureText(ann.content);\n                      const textWidth = metrics.width;\n                      const textHeight = fontSize;\n                      \n                      return (\n                        point.x >= x - 4 &&\n                        point.x <= x + textWidth + 4 &&\n                        point.y >= y - textHeight + 4 &&\n                        point.y <= y + 4\n                      );\n                    });\n\n                  if (textAnnotation) {\n                    setSelectedAnnotation(textAnnotation);\n                    setTextInput(textAnnotation.content);\n                    setActiveTool('text');\n                  }\n                }}\n                style={{ \n                  cursor: draggedAnnotation ? 'grabbing' : \n                         hoveredAnnotation?.type === 'signature' || hoveredAnnotation?.type === 'image' ? 'grab' :\n                         isEditing ? (activeTool === 'text' ? 'text' : 'crosshair') : 'default'\n                }}\n              >\n                <canvas\n                  ref={canvasRef}\n                  className=\"absolute top-0 left-0 w-full h-full pointer-events-none z-10\"\n                />\n                <div className=\"overflow-auto max-h-[800px] w-full\">\n                  <Document\n                    file={file}\n                    onLoadSuccess={onDocumentLoadSuccess}\n                    onLoadError={onDocumentLoadError}\n                    loading={<div className=\"text-center p-4\">Loading PDF...</div>}\n                    error={<div className=\"text-center p-4 text-red-500\">Failed to load PDF</div>}\n                  >\n                    <div className=\"flex justify-center p-4\">\n                      <div ref={handlePageDivRef}>\n                        <Page \n                          key={`page_${pageNumber}`}\n                          pageNumber={pageNumber}\n                          renderTextLayer={false}\n                          renderAnnotationLayer={false}\n                          customTextRenderer={({ str }: { str: string }) => str}\n                          scale={1}\n                          width={800}\n                          loading={<div className=\"text-center p-4\">Loading page...</div>}\n                        />\n                      </div>\n                    </div>\n                  </Document>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {numPages && (\n            <div className=\"mt-4 flex justify-center gap-2\">\n              <Button\n                onClick={() => setPageNumber((prev) => Math.max(prev - 1, 1))}\n                disabled={pageNumber <= 1}\n              >\n                Previous\n              </Button>\n              <span className=\"flex items-center\">\n                Page {pageNumber} of {numPages}\n              </span>\n              <Button\n                onClick={() => setPageNumber((prev) => Math.min(prev + 1, numPages))}\n                disabled={pageNumber >= numPages}\n              >\n                Next\n              </Button>\n            </div>\n          )}\n        </div>\n      )}\n\n      <AlertDialog open={showError}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Error</AlertDialogTitle>\n            <AlertDialogDescription>{error}</AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel onClick={() => setShowError(false)}>OK</AlertDialogCancel>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      {showSignaturePad && (\n        <SignaturePad\n          onSave={handleSignatureSave}\n          onCancel={() => setShowSignaturePad(false)}\n          color={selectedColor}\n          size={selectedSize}\n        />\n      )}\n\n      {showImageUploader && (\n        <ImageUploader\n          onSave={handleImageSave}\n          onCancel={() => setShowImageUploader(false)}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;;;AAZA;;;;;;;;;;;AAcA,uBAAuB;AACvB,wCAAmC;IACjC,iNAAA,CAAA,QAAK,CAAC,mBAAmB,CAAC,SAAS,GAAG,CAAC,wCAAwC,EAAE,iNAAA,CAAA,QAAK,CAAC,OAAO,CAAC,kBAAkB,CAAC;AACpH;AAMe,SAAS,UAAU,EAAE,QAAQ,EAAkB;;IAC5D,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IACxD,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAmB,EAAE;IAClE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAC1D,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAW,EAAE;IAC9D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAyD;IAC1G,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAA0B;IAC3E,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAwB;IACnF,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAwB;IACjF,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAwB;IACjF,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAS;QAAE,GAAG;QAAG,GAAG;IAAE;IAEjE,MAAM,gBAAgB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAkB;IAC7C,MAAM,YAAY,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAqB;IAC5C,MAAM,oBAAoB,CAAA,GAAA,6JAAA,CAAA,SAAM,AAAD,EAAqC;QAAE,OAAO;QAAG,QAAQ;IAAE;IAE1F,MAAM,sBAAsB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;sDAAE,CAAC,GAAqC;YAC5E,EAAE,cAAc;YAChB,IAAI,CAAC,aAAa,CAAC,cAAc,OAAO,EAAE;YAE1C,MAAM,QAAQ,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD,EAAE,GAAG,cAAc,OAAO;YAEpD,OAAQ;gBACN,KAAK;oBACH,8CAA8C;oBAC9C,MAAM,oBAAoB,YACvB,MAAM;wFAAC,CAAA,MAAO,IAAI,IAAI,KAAK;uFAC3B,IAAI;wFAAC,CAAA;4BACJ,IAAI,IAAI,IAAI,KAAK,QAAQ;gCACvB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,QAAQ;gCAC7B,OAAO,KAAK,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI,MAAM,KAAK,GAAG,CAAC,IAAI,MAAM,CAAC,IAAI;4BAC/D;4BACA,IAAI,IAAI,IAAI,KAAK,eAAe,IAAI,IAAI,KAAK,SAAS;gCACpD,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,QAAQ;gCAC7B,MAAM,QAAQ,IAAI,IAAI,KAAK,UAAU,IAAI,KAAK,GAAG;gCACjD,MAAM,SAAS,IAAI,IAAI,KAAK,UAAU,IAAI,MAAM,GAAG;gCACnD,OACE,MAAM,CAAC,IAAI,KACX,MAAM,CAAC,IAAI,IAAI,SACf,MAAM,CAAC,IAAI,KACX,MAAM,CAAC,IAAI,IAAI;4BAEnB;4BACA,OAAO;wBACT;;oBAEF,IAAI,mBAAmB;wBACrB,IAAI,kBAAkB,IAAI,KAAK,QAAQ;4BACrC,sBAAsB;4BACtB,aAAa,kBAAkB,OAAO;4BACtC,cAAc;wBAChB,OAAO,IAAI,kBAAkB,IAAI,KAAK,eAAe,kBAAkB,IAAI,KAAK,SAAS;4BACvF,qBAAqB;4BACrB,cAAc;gCACZ,GAAG,MAAM,CAAC,GAAG,kBAAkB,QAAQ,CAAC,CAAC;gCACzC,GAAG,MAAM,CAAC,GAAG,kBAAkB,QAAQ,CAAC,CAAC;4BAC3C;wBACF;wBACA;oBACF;oBAEA,IAAI,eAAe,UAAU,UAAU,IAAI,IAAI;wBAC7C,MAAM,iBAAiC;4BACrC,MAAM;4BACN,IAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;4BACzC,SAAS;4BACT,UAAU;4BACV,OAAO;4BACP,MAAM;4BACN,MAAM;wBACR;wBAEA,IAAI,oBAAoB,SAAS,QAAQ;4BACvC,6BAA6B;4BAC7B;8EAAe,CAAA,OAAQ,KAAK,GAAG;sFAAC,CAAA,MAC9B,QAAQ,qBAAqB,iBAAiB;;;4BAEhD,sBAAsB;wBACxB,OAAO;4BACL,qBAAqB;4BACrB;8EAAe,CAAA,OAAQ;2CAAI;wCAAM;qCAAe;;wBAClD;wBACA,aAAa;oBACf,OAAO,IAAI,eAAe,aAAa;wBACrC,oBAAoB;oBACtB,OAAO,IAAI,eAAe,SAAS;wBACjC,qBAAqB;oBACvB,OAAO,IAAI,eAAe,SAAS;wBACjC,MAAM,kBAAmC;4BACvC,MAAM;4BACN,WAAW;4BACX,OAAO;4BACP,KAAK;4BACL,OAAO;4BACP,MAAM;4BACN,MAAM;wBACR;wBACA;0EAAe,CAAA,OAAQ;uCAAI;oCAAM;iCAAgB;;wBACjD,aAAa;oBACf,OAAO;wBACL,aAAa;wBACb,iBAAiB;4BAAC;yBAAM;oBAC1B;oBACA;gBAEF,KAAK;oBACH,IAAI,mBAAmB;wBACrB;0EAAe,CAAA,OAAQ,KAAK,GAAG;kFAAC,CAAA;wCAC9B,IAAI,QAAQ,mBAAmB;4CAC7B,IAAI,IAAI,IAAI,KAAK,eAAe,IAAI,IAAI,KAAK,SAAS;gDACpD,OAAO;oDACL,GAAG,GAAG;oDACN,UAAU;wDACR,GAAG,MAAM,CAAC,GAAG,WAAW,CAAC;wDACzB,GAAG,MAAM,CAAC,GAAG,WAAW,CAAC;oDAC3B;gDACF;4CACF;wCACF;wCACA,OAAO;oCACT;;;oBACF,OAAO,IAAI,WAAW;wBACpB,IAAI,eAAe,SAAS;4BAC1B;8EAAe,CAAA;oCACb,MAAM,iBAAiB;2CAAI;qCAAK;oCAChC,MAAM,iBAAiB,cAAc,CAAC,eAAe,MAAM,GAAG,EAAE;oCAChE,IAAI,gBAAgB,SAAS,SAAS;wCACpC,eAAe,GAAG,GAAG;oCACvB;oCACA,OAAO;gCACT;;wBACF,OAAO;4BACL;8EAAiB,CAAA,OAAQ;2CAAI;wCAAM;qCAAM;;wBAC3C;oBACF;oBACA;gBAEF,KAAK;gBACL,KAAK;oBACH,IAAI,mBAAmB;wBACrB,qBAAqB;wBACrB,cAAc;4BAAE,GAAG;4BAAG,GAAG;wBAAE;oBAC7B,OAAO,IAAI,WAAW;wBACpB,aAAa;wBACb,IAAI,eAAe,WAAW,cAAc,MAAM,GAAG,GAAG;4BACtD,MAAM,gBAA+B;gCACnC,MAAM,eAAe,SAAS,SAAS;gCACvC,QAAQ;gCACR,OAAO;gCACP,MAAM;gCACN,MAAM;4BACR;4BACA;8EAAe,CAAA,OAAQ;2CAAI;wCAAM;qCAAc;;4BAC/C,iBAAiB,EAAE;wBACrB;oBACF;oBACA;YACJ;QACF;qDAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAAE;YACnC,IAAI,CAAC,UAAU,OAAO,IAAI,CAAC,kBAAkB,OAAO,EAAE;YACtD,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,kBAAkB,OAAO;YACnD,UAAU,OAAO,CAAC,KAAK,GAAG;YAC1B,UAAU,OAAO,CAAC,MAAM,GAAG;QAC7B;kDAAG,EAAE;IAEL,MAAM,eAAe,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;+CAAE;YAC/B,MAAM,SAAS,UAAU,OAAO;YAChC,MAAM,MAAM,QAAQ,WAAW;YAC/B,IAAI,CAAC,UAAU,CAAC,KAAK;YAErB,IAAI,SAAS,CAAC,GAAG,GAAG,OAAO,KAAK,EAAE,OAAO,MAAM;YAE/C,YACG,MAAM;uDAAC,CAAA,MAAO,IAAI,IAAI,KAAK;sDAC3B,OAAO;uDAAC,CAAA,MAAO,CAAA,GAAA,uIAAA,CAAA,mBAAgB,AAAD,EAAE,KAAK,KAAK,QAAQ;;YAErD,IAAI,aAAa,cAAc,MAAM,GAAG,GAAG;gBACzC,MAAM,oBAAmC;oBACvC,MAAM,eAAe,SAAS,SAAS;oBACvC,QAAQ;oBACR,OAAO;oBACP,MAAM;oBACN,MAAM;gBACR;gBACA,CAAA,GAAA,uIAAA,CAAA,mBAAgB,AAAD,EAAE,KAAK;YACxB;QACF;8CAAG;QAAC;QAAa;QAAe;QAAW;QAAY;QAAY;QAAe;KAAa;IAE/F,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAAE,CAAC;YACpC,IAAI,CAAC,SAAS;YAEd,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,QAAQ,qBAAqB;YACvD,kBAAkB,OAAO,GAAG;gBAAE;gBAAO;YAAO;YAE5C;2DAAsB;oBACpB;oBACA;gBACF;;QACF;kDAAG;QAAC;QAAkB;KAAa;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,MAAM;oDAAe;oBACnB,IAAI,CAAC,cAAc,OAAO,EAAE;oBAC5B,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,cAAc,OAAO,CAAC,qBAAqB;oBACrE,kBAAkB,OAAO,GAAG;wBAAE;wBAAO;oBAAO;oBAC5C;oBACA;gBACF;;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAClC;uCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;8BAAG;QAAC;QAAkB;KAAa;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;+BAAE;YACR,IAAI,UAAU,OAAO,IAAI,kBAAkB,OAAO,CAAC,KAAK,GAAG,GAAG;gBAC5D;YACF;QACF;8BAAG;QAAC;QAAc;QAAa;QAAe;KAAU;IAExD,MAAM,sBAAsB,CAAC;QAC3B,IAAI,OAAO,MAAM,KAAK,GAAG;QAEzB,MAAM,sBAA2C;YAC/C,MAAM;YACN,IAAI,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC,GAAG;YACzC;YACA,OAAO;YACP,MAAM;YACN,MAAM;YACN,UAAU;gBAAE,GAAG;gBAAI,GAAG;YAAG;YACzB,YAAY;QACd;QAEA,eAAe,CAAA,OAAQ;mBAAI;gBAAM;aAAoB;QACrD,oBAAoB;IACtB;IAEA,MAAM,kBAAkB,CAAC;QACvB,MAAM,MAAM,IAAI;QAChB,IAAI,MAAM,GAAG;YACX,MAAM,WAAW;YACjB,MAAM,QAAQ,WAAW,IAAI,KAAK;YAClC,MAAM,QAAQ;YACd,MAAM,SAAS,IAAI,MAAM,GAAG;YAE5B,MAAM,kBAAiC;gBACrC,MAAM;gBACN,KAAK;gBACL,UAAU;oBAAE,GAAG;oBAAI,GAAG;gBAAG;gBACzB;gBACA;gBACA,MAAM;YACR;YAEA,eAAe,CAAA,OAAQ;uBAAI;oBAAM;iBAAgB;YACjD,iBAAiB;gBAAE,KAAK;gBAAU;gBAAO;YAAO;YAChD,qBAAqB;QACvB;QACA,IAAI,GAAG,GAAG;IACZ;IAEA,MAAM,mBAAmB,CAAA,GAAA,6JAAA,CAAA,cAAW,AAAD;mDAAE,OAAO;YAC1C,MAAM,eAAe,MAAM,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE;YAE5C,IAAI,CAAC,cAAc;YAEnB,IAAI,aAAa,IAAI,KAAK,mBAAmB;gBAC3C,SAAS;gBACT,aAAa;gBACb;YACF;YAEA,IAAI,aAAa,IAAI,GAAG,KAAK,OAAO,MAAM;gBACxC,SAAS;gBACT,aAAa;gBACb;YACF;YAEA,+CAA+C;YAC/C,QAAQ;YACR,aAAa;YACb,eAAe,EAAE;YACjB,iBAAiB,EAAE;YACnB,cAAc;YACd,iBAAiB;YACjB,gBAAgB;YAChB,aAAa;QACf;kDAAG,EAAE;IAEL,MAAM,wBAAwB,CAAC,EAAE,QAAQ,EAAwB;QAC/D,YAAY;QACZ,cAAc;IAChB;IAEA,MAAM,sBAAsB,CAAC;QAC3B,QAAQ,KAAK,CAAC,sBAAsB;QACpC,SAAS,MAAM,OAAO;QACtB,aAAa;IACf;IAEA,qBACE,6LAAC;QAAI,WAAU;;YACZ,CAAC,qBACA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,MAAK;wBACL,QAAO;wBACP,UAAU;wBACV,WAAU;wBACV,IAAG;;;;;;kCAEL,6LAAC;wBAAM,SAAQ;wBAAa,WAAU;kCACpC,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;oCACR,OAAM;8CAEN,cAAA,6LAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;8CAGN,6LAAC;oCAAE,WAAU;8CAAsC;;;;;;8CACnD,6LAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;;;;;;;;;;;qCAKhD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAA8B,KAAK,IAAI;;;;;;kCACrD,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qIAAA,CAAA,SAAM;gCAAC,SAAS,IAAM,QAAQ;0CAAO;;;;;;4BACrC,0BACC;;kDACE,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAS,IAAM,eAAe,EAAE;kDAAG;;;;;;kDAC3C,6LAAC,qIAAA,CAAA,SAAM;wCAAC,SAAS,IAAM,aAAa;kDAAQ;;;;;;;6DAG9C,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAS;oCACP,IAAI,CAAC,MAAM;wCACT,SAAS;wCACT,aAAa;wCACb;oCACF;oCACA,IAAI,CAAC,UAAU;wCACb,SAAS;wCACT,aAAa;wCACb;oCACF;oCACA,IAAI;wCACF,oBAAoB;wCAEpB,4BAA4B;wCAC5B,MAAM,WAAW,MAAM,MAAM;wCAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;wCAEhC,IAAI,CAAC,KAAK,OAAO,EAAE;4CACjB,OAAO,QAAQ,CAAC,IAAI,GAAG;4CACvB;wCACF;wCAEA,MAAM,UAAU,MAAM;wCACtB,IAAI,SAAS;4CACX,aAAa;wCACf;oCACF,EAAE,OAAO,OAAO;wCACd,QAAQ,KAAK,CAAC,UAAU;wCACxB,SAAS;wCACT,aAAa;oCACf,SAAU;wCACR,oBAAoB;oCACtB;gCACF;gCACA,UAAU,CAAC,QAAQ,CAAC,YAAY;0CAE/B,CAAC,OAAO,kBACP,CAAC,WAAW,mBACZ,mBAAmB,gBACnB;;;;;;;;;;;;oBAKP,2BACC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,0IAAA,CAAA,UAAU;oCACT,YAAY;oCACZ,cAAc,CAAC;wCACb,cAAc;wCACd,IAAI,SAAS,aAAa;4CACxB,oBAAoB;wCACtB,OAAO,IAAI,SAAS,SAAS;4CAC3B,qBAAqB;wCACvB;oCACF;oCACA,eAAe;oCACf,cAAc;oCACd,eAAe;oCACf,cAAc;;;;;;gCAEf,eAAe,wBACd,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;4CAC5C,aAAa,qBAAqB,iBAAiB;4CACnD,WAAU;;;;;;sDAEZ,6LAAC,qIAAA,CAAA,SAAM;4CACL,SAAS;gDACP,aAAa;gDACb,sBAAsB;4CACxB;4CACA,SAAQ;4CACR,MAAK;sDAEJ,qBAAqB,WAAW;;;;;;wCAElC,oCACC,6LAAC,qIAAA,CAAA,SAAM;4CACL,SAAS;gDACP,eAAe,CAAA,OAAQ,KAAK,MAAM,CAAC,CAAA,MAAO,QAAQ;gDAClD,aAAa;gDACb,sBAAsB;4CACxB;4CACA,SAAQ;4CACR,MAAK;sDACN;;;;;;;;;;;;gCAMN,eAAe,yBACd,6LAAC;oCAAI,WAAU;;sDACb,6LAAC,qIAAA,CAAA,SAAM;4CACL,SAAS,kBAAkB,cAAc,YAAY;4CACrD,MAAK;4CACL,SAAS,IAAM,iBAAiB;;8DAEhC,6LAAC,yMAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;sDAGrC,6LAAC,qIAAA,CAAA,SAAM;4CACL,SAAS,kBAAkB,WAAW,YAAY;4CAClD,MAAK;4CACL,SAAS,IAAM,iBAAiB;;8DAEhC,6LAAC,yMAAA,CAAA,SAAM;oDAAC,WAAU;;;;;;gDAAiB;;;;;;;;;;;;;;;;;;;;;;;;kCAS/C,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BACC,WAAU;4BACV,OAAO;gCAAE,UAAU;gCAAU,WAAW;4BAAQ;sCAEhD,cAAA,6LAAC;gCACC,KAAK;gCACL,WAAU;gCACV,aAAa,CAAC;oCACZ,MAAM,QAAQ,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD,EAAE,GAAG,cAAc,OAAO;oCACpD,MAAM,oBAAoB,YACvB,MAAM,CAAC,CAAA,MAAO,IAAI,IAAI,KAAK,YAC3B,IAAI,CAAC,CAAA;wCACJ,IAAI,IAAI,IAAI,KAAK,eAAe,IAAI,IAAI,KAAK,SAAS;4CACpD,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,QAAQ;4CAC7B,MAAM,QAAQ,IAAI,IAAI,KAAK,UAAU,IAAI,KAAK,GAAG;4CACjD,MAAM,SAAS,IAAI,IAAI,KAAK,UAAU,IAAI,MAAM,GAAG;4CACnD,OACE,MAAM,CAAC,IAAI,KACX,MAAM,CAAC,IAAI,IAAI,SACf,MAAM,CAAC,IAAI,KACX,MAAM,CAAC,IAAI,IAAI;wCAEnB;wCACA,OAAO;oCACT;oCAEF,IAAI,qBAAqB,CAAC,kBAAkB,IAAI,KAAK,eAAe,kBAAkB,IAAI,KAAK,OAAO,GAAG;wCACvG,qBAAqB;wCACrB,cAAc;4CACZ,GAAG,MAAM,CAAC,GAAG,kBAAkB,QAAQ,CAAC,CAAC;4CACzC,GAAG,MAAM,CAAC,GAAG,kBAAkB,QAAQ,CAAC,CAAC;wCAC3C;oCACF,OAAO;wCACL,oBAAoB,GAAG;oCACzB;gCACF;gCACA,aAAa,CAAC;oCACZ,IAAI,mBAAmB;wCACrB,MAAM,QAAQ,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD,EAAE,GAAG,cAAc,OAAO;wCACpD,eAAe,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA;gDAC9B,IAAI,QAAQ,mBAAmB;oDAC7B,IAAI,IAAI,IAAI,KAAK,eAAe,IAAI,IAAI,KAAK,SAAS;wDACpD,OAAO;4DACL,GAAG,GAAG;4DACN,UAAU;gEACR,GAAG,MAAM,CAAC,GAAG,WAAW,CAAC;gEACzB,GAAG,MAAM,CAAC,GAAG,WAAW,CAAC;4DAC3B;wDACF;oDACF;gDACF;gDACA,OAAO;4CACT;oCACF,OAAO;wCACL,oBAAoB,GAAG;oCACzB;gCACF;gCACA,WAAW,CAAC;oCACV,IAAI,mBAAmB;wCACrB,qBAAqB;wCACrB,cAAc;4CAAE,GAAG;4CAAG,GAAG;wCAAE;oCAC7B,OAAO;wCACL,oBAAoB,GAAG;oCACzB;gCACF;gCACA,cAAc,CAAC;oCACb,IAAI,mBAAmB;wCACrB,qBAAqB;wCACrB,cAAc;4CAAE,GAAG;4CAAG,GAAG;wCAAE;oCAC7B,OAAO;wCACL,oBAAoB,GAAG;oCACzB;gCACF;gCACA,eAAe,CAAC;oCACd,IAAI,CAAC,aAAa,CAAC,cAAc,OAAO,IAAI,CAAC,UAAU,OAAO,EAAE;oCAEhE,MAAM,QAAQ,CAAA,GAAA,uIAAA,CAAA,gBAAa,AAAD,EAAE,GAAG,cAAc,OAAO;oCACpD,MAAM,MAAM,UAAU,OAAO,CAAC,UAAU,CAAC;oCACzC,IAAI,CAAC,KAAK;oCAEV,MAAM,iBAAiB,YACpB,MAAM,CAAC,CAAC,MAA+B,IAAI,IAAI,KAAK,cAAc,IAAI,IAAI,KAAK,QAC/E,IAAI,CAAC,CAAA;wCACJ,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,IAAI,QAAQ;wCAC7B,MAAM,WAAW,IAAI,IAAI,GAAG;wCAC5B,IAAI,IAAI,GAAG,GAAG,SAAS,QAAQ,CAAC;wCAChC,MAAM,UAAU,IAAI,WAAW,CAAC,IAAI,OAAO;wCAC3C,MAAM,YAAY,QAAQ,KAAK;wCAC/B,MAAM,aAAa;wCAEnB,OACE,MAAM,CAAC,IAAI,IAAI,KACf,MAAM,CAAC,IAAI,IAAI,YAAY,KAC3B,MAAM,CAAC,IAAI,IAAI,aAAa,KAC5B,MAAM,CAAC,IAAI,IAAI;oCAEnB;oCAEF,IAAI,gBAAgB;wCAClB,sBAAsB;wCACtB,aAAa,eAAe,OAAO;wCACnC,cAAc;oCAChB;gCACF;gCACA,OAAO;oCACL,QAAQ,oBAAoB,aACrB,mBAAmB,SAAS,eAAe,mBAAmB,SAAS,UAAU,SACjF,YAAa,eAAe,SAAS,SAAS,cAAe;gCACtE;;kDAEA,6LAAC;wCACC,KAAK;wCACL,WAAU;;;;;;kDAEZ,6LAAC;wCAAI,WAAU;kDACb,cAAA,6LAAC,iMAAA,CAAA,WAAQ;4CACP,MAAM;4CACN,eAAe;4CACf,aAAa;4CACb,uBAAS,6LAAC;gDAAI,WAAU;0DAAkB;;;;;;4CAC1C,qBAAO,6LAAC;gDAAI,WAAU;0DAA+B;;;;;;sDAErD,cAAA,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAI,KAAK;8DACR,cAAA,6LAAC,yLAAA,CAAA,OAAI;wDAEH,YAAY;wDACZ,iBAAiB;wDACjB,uBAAuB;wDACvB,oBAAoB,CAAC,EAAE,GAAG,EAAmB,GAAK;wDAClD,OAAO;wDACP,OAAO;wDACP,uBAAS,6LAAC;4DAAI,WAAU;sEAAkB;;;;;;uDAPrC,CAAC,KAAK,EAAE,YAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBAiBxC,0BACC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAS,IAAM,cAAc,CAAC,OAAS,KAAK,GAAG,CAAC,OAAO,GAAG;gCAC1D,UAAU,cAAc;0CACzB;;;;;;0CAGD,6LAAC;gCAAK,WAAU;;oCAAoB;oCAC5B;oCAAW;oCAAK;;;;;;;0CAExB,6LAAC,qIAAA,CAAA,SAAM;gCACL,SAAS,IAAM,cAAc,CAAC,OAAS,KAAK,GAAG,CAAC,OAAO,GAAG;gCAC1D,UAAU,cAAc;0CACzB;;;;;;;;;;;;;;;;;;0BAQT,6LAAC,8IAAA,CAAA,cAAW;gBAAC,MAAM;0BACjB,cAAA,6LAAC,8IAAA,CAAA,qBAAkB;;sCACjB,6LAAC,8IAAA,CAAA,oBAAiB;;8CAChB,6LAAC,8IAAA,CAAA,mBAAgB;8CAAC;;;;;;8CAClB,6LAAC,8IAAA,CAAA,yBAAsB;8CAAE;;;;;;;;;;;;sCAE3B,6LAAC,8IAAA,CAAA,oBAAiB;sCAChB,cAAA,6LAAC,8IAAA,CAAA,oBAAiB;gCAAC,SAAS,IAAM,aAAa;0CAAQ;;;;;;;;;;;;;;;;;;;;;;YAK5D,kCACC,6LAAC,4IAAA,CAAA,UAAY;gBACX,QAAQ;gBACR,UAAU,IAAM,oBAAoB;gBACpC,OAAO;gBACP,MAAM;;;;;;YAIT,mCACC,6LAAC,6IAAA,CAAA,UAAa;gBACZ,QAAQ;gBACR,UAAU,IAAM,qBAAqB;;;;;;;;;;;;AAK/C;GA3qBwB;KAAA","debugId":null}},
    {"offset": {"line": 2281, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/pdf-editor/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card } from \"@/components/ui/card\";\nimport { AlertDialog, AlertDialogContent, AlertDialogHeader, AlertDialogTitle, AlertDialogDescription, AlertDialogFooter, AlertDialogCancel } from \"@/components/ui/alert-dialog\";\nimport PDFEditor from \"@/components/pdf/PDFEditor\";\n\nexport default function PDFEditorPage() {\n  const router = useRouter();\n  const [showUpgradeDialog, setShowUpgradeDialog] = useState(false);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [hasUsedFreeEdit, setHasUsedFreeEdit] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    setIsLoading(false);\n  }, []);\n\n  const handleStartEditing = async () => {\n    try {\n      // Check authentication status when user clicks edit\n      const response = await fetch('/api/auth/check');\n      const data = await response.json();\n      \n      if (!data.authenticated) {\n        router.push('/login?redirect=/pdf-editor');\n        return false;\n      }\n\n      setIsAuthenticated(true);\n\n      // Check usage only if authenticated\n      const usageResponse = await fetch('/api/usage/check');\n      const usageData = await usageResponse.json();\n      \n      if (usageData.hasUsedFreeEdit) {\n        setShowUpgradeDialog(true);\n        return false;\n      }\n\n      // Mark free edit as used\n      await fetch('/api/usage/mark-edit', {\n        method: 'POST'\n      });\n      setHasUsedFreeEdit(true);\n      return true;\n    } catch (error) {\n      console.error('Error:', error);\n      setIsAuthenticated(false);\n      return false;\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto px-4 py-8\">\n        <Card className=\"p-6\">\n          <div className=\"flex justify-center items-center h-64\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n          </div>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container mx-auto px-4 py-8\">\n      <h1 className=\"text-3xl font-bold mb-8\">PDF Editor</h1>\n      \n      <Card className=\"p-6\">\n        <PDFEditor \n          onUpload={async () => {\n            const canEdit = await handleStartEditing();\n            return canEdit;\n          }}\n        />\n      </Card>\n\n      <AlertDialog open={showUpgradeDialog} onOpenChange={setShowUpgradeDialog}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Upgrade to Premium</AlertDialogTitle>\n            <AlertDialogDescription>\n              You've used your free edit. Upgrade to premium for unlimited edits!\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancel</AlertDialogCancel>\n            <Button \n              variant=\"default\" \n              onClick={() => router.push('/subscription')}\n              className=\"bg-black text-white hover:bg-gray-800\"\n            >\n              Upgrade Now\n            </Button>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASe,SAAS;;IACtB,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,aAAa;QACf;kCAAG,EAAE;IAEL,MAAM,qBAAqB;QACzB,IAAI;YACF,oDAAoD;YACpD,MAAM,WAAW,MAAM,MAAM;YAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,KAAK,aAAa,EAAE;gBACvB,OAAO,IAAI,CAAC;gBACZ,OAAO;YACT;YAEA,mBAAmB;YAEnB,oCAAoC;YACpC,MAAM,gBAAgB,MAAM,MAAM;YAClC,MAAM,YAAY,MAAM,cAAc,IAAI;YAE1C,IAAI,UAAU,eAAe,EAAE;gBAC7B,qBAAqB;gBACrB,OAAO;YACT;YAEA,yBAAyB;YACzB,MAAM,MAAM,wBAAwB;gBAClC,QAAQ;YACV;YACA,mBAAmB;YACnB,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,UAAU;YACxB,mBAAmB;YACnB,OAAO;QACT;IACF;IAEA,IAAI,WAAW;QACb,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC,mIAAA,CAAA,OAAI;gBAAC,WAAU;0BACd,cAAA,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;;;;IAKzB;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAExC,6LAAC,mIAAA,CAAA,OAAI;gBAAC,WAAU;0BACd,cAAA,6LAAC,yIAAA,CAAA,UAAS;oBACR,UAAU;wBACR,MAAM,UAAU,MAAM;wBACtB,OAAO;oBACT;;;;;;;;;;;0BAIJ,6LAAC,8IAAA,CAAA,cAAW;gBAAC,MAAM;gBAAmB,cAAc;0BAClD,cAAA,6LAAC,8IAAA,CAAA,qBAAkB;;sCACjB,6LAAC,8IAAA,CAAA,oBAAiB;;8CAChB,6LAAC,8IAAA,CAAA,mBAAgB;8CAAC;;;;;;8CAClB,6LAAC,8IAAA,CAAA,yBAAsB;8CAAC;;;;;;;;;;;;sCAI1B,6LAAC,8IAAA,CAAA,oBAAiB;;8CAChB,6LAAC,8IAAA,CAAA,oBAAiB;8CAAC;;;;;;8CACnB,6LAAC,qIAAA,CAAA,SAAM;oCACL,SAAQ;oCACR,SAAS,IAAM,OAAO,IAAI,CAAC;oCAC3B,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GA7FwB;;QACP,qIAAA,CAAA,YAAS;;;KADF","debugId":null}}]
}